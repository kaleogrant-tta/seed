<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Weed Wordle</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #f5f5f5; color: #333; text-align:center; margin:0; padding:0; }
        h1 { color: #2e8b57; margin-top: 20px; }
        #message { margin: 10px; font-weight:bold; }
        #guess-input { font-size: 24px; text-transform: uppercase; }
        .result-row { display: flex; justify-content:center; margin-top: 5px; }
        .letter { width: 40px; height: 40px; border:1px solid #ddd; display:flex; align-items:center; justify-content:center; margin: 2px; font-size:24px; font-weight:bold; }
        .green { background-color: #6aaa64; color:white; }
        .yellow { background-color: #c9b458; color:white; }
        .grey { background-color: #787c7e; color:white; }
        #new-game { margin-top:20px; display:none; }
        button { padding: 8px 16px; margin-top: 10px; font-size:16px; }
    </style>
</head>
<body>
    <h1>Weed Wordle ðŸŒ¿</h1>
    <div id="message">Guess the 5-letter weed word!</div>
    <input type="text" id="guess-input" maxlength="5" />
    <button id="guess-btn">Guess</button>
    <div id="results"></div>
    <button id="new-game">New Game</button>

    <script>
        const weedWords = ["blunt","joint","ganja","bhang","grass","smoke","herbs"];
        let secret = weedWords[Math.floor(Math.random() * weedWords.length)];
        let guessesRemaining = 6;
        const guessInput = document.getElementById('guess-input');
        const guessBtn = document.getElementById('guess-btn');
        const resultsDiv = document.getElementById('results');
        const messageDiv = document.getElementById('message');
        const newGameBtn = document.getElementById('new-game');

        function evaluateGuess(guess, secret) {
            const result = [];
            const secretLetters = secret.split('');
            const guessLetters = guess.split('');

            for (let i = 0; i < guessLetters.length; i++) {
                if (guessLetters[i] === secretLetters[i]) {
                    result.push({letter: guessLetters[i], state:'green'});
                } else if (secretLetters.includes(guessLetters[i])) {
                    result.push({letter: guessLetters[i], state:'yellow'});
                } else {
                    result.push({letter: guessLetters[i], state:'grey'});
                }
            }
            return result;
        }

        function renderResult(result) {
            const row = document.createElement('div');
            row.className = 'result-row';
            result.forEach(item => {
                const span = document.createElement('div');
                span.className = 'letter ' + item.state;
                span.textContent = item.letter.toUpperCase();
                row.appendChild(span);
            });
            resultsDiv.appendChild(row);
        }

        function endGame(win) {
            guessInput.disabled = true;
            guessBtn.disabled = true;
            newGameBtn.style.display = 'inline-block';
            if (win) {
                messageDiv.textContent = 'ðŸŽ‰ Congratulations! You guessed it: ' + secret.toUpperCase();
            } else {
                messageDiv.textContent = 'ðŸ’¥ Game over! The word was ' + secret.toUpperCase();
            }
        }

        guessBtn.addEventListener('click', () => {
            const guess = guessInput.value.toLowerCase();
            if (guess.length !== 5) {
                messageDiv.textContent = 'Please enter a 5-letter word.';
                return;
            }
            if (!weedWords.includes(guess)) {
                messageDiv.textContent = 'Not a valid weed word.';
                return;
            }
            const result = evaluateGuess(guess, secret);
            renderResult(result);
            guessesRemaining--;
            if (guess === secret) {
                endGame(true);
            } else if (guessesRemaining === 0) {
                endGame(false);
            } else {
                messageDiv.textContent = 'Guesses left: ' + guessesRemaining;
                guessInput.value = '';
                guessInput.focus();
            }
        });

        newGameBtn.addEventListener('click', () => {
            // reset game
            secret = weedWords[Math.floor(Math.random() * weedWords.length)];
            guessesRemaining = 6;
            guessInput.disabled = false;
            guessBtn.disabled = false;
            newGameBtn.style.display = 'none';
            resultsDiv.innerHTML = '';
            messageDiv.textContent = 'Guess the 5-letter weed word!';
            guessInput.value = '';
            guessInput.focus();
        });
    </script>
</body>
</html>
